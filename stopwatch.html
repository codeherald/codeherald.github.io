<div style="padding:10px;margin:0 auto;font-family:tahoma;font-size:14px;width:250px;height: auto;">

About me

 <a style="text-decoration:none;" href="http://twitter.com/john_zenith">Twitter </a>

 John Zenith is a front-end developer, writer, speaker, and a code builder from Nigeria,  who loves Full Stack coding. He's currently working on a project - Codeherald. 


Tutorial:

Topic:  How To Create A Stopwatch In Javascript

Author :  John Zenith


<p style="padding:5px; line-height:1.4; margin: 10px 0px;">
Javascript stop watch or rather stop down timer can be implemented using the javascript
 timing methods which are executed in time interval.</p>

<p style="padding: 5px; line-height:1.4; margin: 10px 0px; ">
Javascript timing methods automate a particular task to be done on the fly without you having to click a button or call an event.</p>

<ul style="padding: 5px; line-height: 1.5;">
Javascript timing is made up of two key methods :

   <li style="margin:10px 0px 5px 10px;"> setTimeout( "javascript expression", milliseconds );</li>

   <li style="margin:5px 0px 10px 10px;" > clearTimeout( ID of setTimeout( ) );</li>
</ul>

<p style="line-height:1.3; margin: 10px 0px;">
When using the javascript timing methods, you need to understand how javascript execute statements in time intervals.</p>


<p style="margin:20px 0px;">The setTimeout( ) Method</p>

<p>Syntax :</p>

<p style="margin: 5px 0px 20px 0px; padding:5px; border: 1px solid #ccc;
display: block;">
setTimeout( "JavaScript Statements", milliseconds );</p>

<p style="margin: 10px 0px 0px 0px;">
The setTimeout( ) javascript timing method takes only two parameters : </p>


<ul style="padding: 2px; line-height: 1.5;">

    <li style="margin:0px 0px 5px 10px;"><span style="color: #333;background:none;">
first parameter :</span>  this parameter is the  javascript statements you want to execute.
A string function name can also be passed to it.</li>

   <li style="margin:10px 0px 20px 10px;">
<span style="color:#333;background: none;"> second parameter : </span>
 specify the milliseconds it is going to take before executing the javascript statements in the
 first parameter. It can simply be referred to as ( Delay On Execution ).</li>
</ul>

<p style="margin: 0px 0px 20px 0px;font-size:15px;">
<span>Example : </span>
Structure Of The setTimeout( ) Method </p>

<code style="line-height:2; border:1px solid darkgrey; padding:5px;
margin: 10px 0px 20px 0px; display:block;">

var setTime = setTimeout( function ( ) { <br/>
// javascript statments
}, 500 );
<br/>
Or
<br/>
var setTime = setTimeout( "setTimeFunction( )", 500 );
</code>


<p style="margin: 20px 0px;">
<span style="color:#333;background:none;">Example :</span>
 Calculating Milliseconds</p>

<p style="line-height:1.3; margin: 5px 0px 0px 0px;">
To work with the javascript event timing methods, it's very important
you understand how to calculate milliseconds.
</p>

<p style="margin:10px 0px;">You have one seconds ( 1s ) in one thousand milliseconds ( 1000ms )</p>

<p>Milliseconds Formulae</p>

<code style="line-height:2; border:1px solid darkgrey; padding:5px;
margin: 30px 0px; height: auto; display:block;">
<pre>
1000ms = 1s
Yms = Xs
 if 1000ms = 1s
 300ms = Xs

#cross multiplying

1000ms * Xs = 300ms * 1s
X * 1000 = 300 * 1
1000X = 300
X = 300 / 1000
X = 0.3s</pre> </code>

<p style="line-height:1.4; margin: 10px 0px; ">
This means 300 milliseconds = 0.3 second, not up to one second (1s).
Your javascript statements will be executed in time interval of 0.3second (0.3s).</p>

<p style="margin: 30px 0px 10px 0px;">
<span style="color:#333; background:inherit;">Example  :</span>
Creating A Stop Watch</p>

<p>Using the javascript timing event methods, we can create our stop watch.</p>

<p style="margin: 10px 0px 20px 0px; color:#333;
background:none;">Example: 
The Structure</p>

<code style="line-height:2; border:1px solid darkgrey; padding:5px;
margin: 20px 0px; height: auto; display:block;">

var clear;
<br/>
function stopWatch( ) { <br/>
// javascript statement here
<br/>
clear = setTimeout( "stopWatch( )", 1000 ); <br/>
}
<br/>Or

<br/>
function stopWatch( ) {
<br/>
// javascript statement here
<br/>
clear =
 setTimeout( function ( ) { <br/>
// javascript statement here
<br/>  
  }, 1000 );
  <br/>
}
<br/>
Or
<br/>
var stopWatch = function ( ) { <br/>
// javascript statement here <br/>
clear =
 setTimeout( "stopWatch( )", 1000 ); <br/>
}
</code>

<p style="margin: 40px auto 10px auto;">
<span style="style:color:#333;background: none;">Example : </span> The Javascript Code - 
startwatch.js</p>

<code style="line-height:2; border:1px solid darkgrey; padding:5px;
margin: 20px 0px 40px 0px; height: auto; display:block;">

// initialize your variables outside the function
</br>
var count = 0; 
var clearTime; 
var seconds = 0, minutes = 0, hours = 0; 

<br/>
var check = 0; 
var clearState; 
var secs, mins, gethours ;

<br/><br/>
function startWatch( ) {

<br/>
/* check if seconds is equal to 60 and add a +1 to minutes, and set seconds to 0 */
<br/>

if ( seconds === 60 ) {  <br/>
seconds = 0;
minutes = minutes + 1;  </br>
}

<br/><br/>

/* you use the javascript tenary
operator to format how the minutes should
look and add 0 to minutes if less than 10
*/

<br/>

mins =
 ( minutes < 10 ) ?
( '0' + minutes + ': ' ) : ( minutes + ': ' );

<br/><br/>

/* check if minutes is equal to 60 and
add a +1 to hours set minutes to 0 */

<br/>
if ( minutes === 60 ) {  </br>
minutes = 0;
hours = hours + 1;  </br>
}

<br/><br/>

/* you use the javascript tenary operator
to format how the hours should look and
add 0 to hours if less than 10 */

<br/>

gethours = ( hours < 10 ) ?
( '0' + hours + ': ' ) : ( hours + ': ' );

<br/>

secs = ( seconds < 10 ) ?
( '0' + seconds ) : ( seconds );

<br/><br/>

// display the stopwatch <br/>

var x = document
.getElementById("timer"); <br/>
x.innerHTML =
'Time:  ' + gethours + mins + secs;

<br/><br/>

/* call the seconds counter after displaying the stop watch and increment
seconds by +1 to keep it counting */ 

<br/>
seconds++;

<br/><br/>

/* call the setTimeout( ) to keep the
stop watch alive ! */ <br/>

clearTime = setTimeout( "startWatch( )", 1000 );

<br/><br/>

} // startWatch( )
<br/><br/>
//create a function to start the stop watch <br/>

function startTime( ) {
 <br/>

 /* check if seconds, minutes, and hours are equal to zero and start the stop watch */ <br/>

if ( seconds === 0
    && minutes === 0
&& hours === 0 ) {
<br/>

/* hide the fulltime when the stop watch
is running */ <br/>

var fulltime =
  document.getElementById( "fulltime" ); <br/>
fulltime.style.display = "none";

<br/></br/>
/* hide the start button if the stop watch is
    running */ <br/>

this.style.display = "none";

<br/><br/>

/* call the startWatch( ) function to execute
the stop watch whenever the startTime( ) 
is triggered */ <br/>

startWatch( );
<br/>
} // if ()
<br/>
} // startTime()

<br/><br/>
/* you need to call the startTime( ) function to keep the stop watch alive ! */
<br/>

window.addEventListener( 'load', function ( ) { <br/>
var start = document
.getElementById("start"); <br/><br/>
        start.addEventListener(
'click', startTime );   <br/>
});
<br/><br/>
// startwatch.js end
</code>


<p style="margin: 20px 0px 10px 0px;">
To stop the timer, you need to call in the clearTimeout( ) timing event method and this comes in very handy </p>

<p style="margin: 20px 0px; font-size:15px;">The clearTimeout( ) Method</p>

<p style="margin: 5px 0px; ">
It has just one parameter : the return ID of the setTimeout( ) method</p>

<p style="margin: 10px 0px; "> Syntax : </p>

<p style="margin: 15px 0px; border: 1px solid #ccc; padding: 5px; height: auto;">
clearTimeout( return ID of setTimeout() ); </p>

<p style="margin: 10px 0px; ">
<span style="color:#333;background: none;">Note : </span>
The setTimeout( ) timing method always returns a value, and that value is pass to the clearTimeout( ) timing event method.</p>

<p  style="margin: 20px 0px 20px 0px;">
<span style="color:#333; background: none; ">Example : </span> The ClearTimeout( ) Parameter</p>

<p style="margin: 10px auto; padding:5px; border: 1px solid #ccc; display: block;">
var clearTime = setTimeout( "Javascript Statements", 100 );
</p>

<p style="margin:10px 0px;" >
clearTime variable</span> is returned as a value by the setTimeout( ) timing method, that is pass to the clearTimeout( ID ) as an ID to reference it -
<br/> clearTimeout( clearTime ); </p>

<p  style="font-size:15px;margin: 5px 0px;">
 How It Work </p>

<p style="margin:10px 0px;padding: 5px; line-height:1.5; height: auto;">
Whenever the clearTimeout( ) timing method is called on a setTimeout( ) timing method that is active, the clearTimeout( ) timing method will stop the execution of the setTimeout( ) timing method but without destroying its execution entirely.
</p>

<p style="margin: 10px 0px; padding:5px; line-height: 1.5; height: auto;">
The setTimeout( ) timing method is left idle during the period that the clearTimeout( ) timing method is called, and when you re-execute the setTimeout( ) timing method, it will start from the point its execution was stopped, not starting all over from the beginning. 
<br/> <br/>

Just like when you pause a mp3 media player,  and then play it back, it continues playing, but not starting all over from beginning.
</p>

<p style="margin; 10px 0px; padding:5px; line-height: 1.5; height: auto;">
For Example, Let's say I have a running timer that was created using the setTimeout( ) timing method, and its starting point is 00, I run the timer, and it's now reading 41. 
<br/><br/>
If I call in the clearTimeout( ) timing method on this active setTimout( ) method, it will make it idle during that period, and whenever I re-execute the setTimeout( ) timing method, it will start counting from 41, not from 00.
</p>

<p style="margin: 10px 0px; padding:5px; line-height: 1.5; height: auto;">
To make the timer start from 00, you've to resets its counter.
That's the logic.
</p>


<p style="margin: 20px 0px;"><span style="color:#333; background:none; ">Example : </span>
Stop The Time - stopwatch.js </p>

<code style="line-height:2; border:1px solid darkgrey; padding:5px; margin: 15px 0px; height: auto; display:block;">

//create a function to stop the time <br/>
function stopTime( ) {
<br/>

 /* check if seconds, minutes and
 hours are not equal to 0 */
 <br/>

 if ( seconds !== 0
 || minutes !== 0
 || hours !== 0 ) {
<br/>

 /* display the full time
 before reseting the stop
 watch */
 <br/>

 var fulltime = document
 .getElementById( "fulltime" );

 <br/><br/>

 //display the full time <br/>
 fulltime.style.display =
  "block";  
  <br/>
 var time =
 gethours + mins + secs;
 <br/>
 fulltime.innerHTML =
 'Fulltime: ' + time;
 
  <br/><br/>
 
 // reset the stop watch <br/>
 seconds = 0;
 minutes = 0;
 hours = 0;
<br/>
 secs =  '0' + seconds; <br/>
 mins = '0' + minutes + ': '; <br/>
 gethours = '0' + hours + ': '; <br/>
<br/>

 /* display the stopwatch after
 it's been stopped */
 <br/>
 var x = document.getElementById
 ("timer");
 <br/>
 var stopTime =
  gethours + mins + secs; <br/>
 x.innerHTML = stopTime; 

<br/><br/ 

 /* display all stop watch
 control buttons */ <br/>
 
 var showStart = document.getElementById
 ('start');
 showStart.style.display = "inline-block";
 
 <br/><br/>
 
 var showStop = document.getElementById
 ("stop");
 showStop.style.display = "inline-block";
<br/><br/>

 /* clear the stop watch
 using the setTimeout( )
 return value 'clearTime'
 as ID */ <br/>
 clearTimeout( clearTime );
 <br/>
 } // if () <br/>
 
} // stopTime()

<br/><br/>

/* you need  to call the
stopTime( ) function to
terminate the stop watch */
<br/>

window.addEventListener(
 'load', function ( ) {
<br/>
    var stop = document.getElementById
("stop");
  <br/>
  stop.addEventListener(
   'click', stopTime );
<br/>
});
<br/>
// stopwatch.js end
</code>

<p style="margin-top:40px;">The CSS</p>

<code style="line-height:2; border:1px solid darkgrey; padding:5px;
margin: 20px 0px; height: auto; display:block;">

#stopWatch { 
 width: 280px;
 height: auto;
 text-align: center;
 display: block;
 padding: 5px;
 margin: 0 auto; 
 }
 
 <br/><br/>
 
#timer, #fulltime { 
 width: auto;
 height: auto;
 padding: 10px;
 display: block;
 border: 1px solid #eee;
 text-align: center;
 box-shadow: 0 0 5px #ccc;
 background: #fbfbf0;
 color: darkblue;
 border-bottom:4px solid darkgrey; 
 }
 
<br/><br/>

button { cursor: pointer; }

<br/><br/>

#fulltime {
 display:none;
 font-size:16px;
 font-weight:bold; 
 }
</code>


<p  style="margin:40px 0px 10px 0px;">The HTML </p>

<code style="line-height:2; border:1px solid darkgrey; padding:5px;
margin: 10px 0px 40px 0px; height: auto; display:block;">

&lt;!DOCTYPE html&gt;
<br/>
&lt;html lang="en"&gt;
<br/>
&lt;head&gt; <br/>
&lt;title&gt;
  Javascript Stop Watch
 &lt;/title&gt;
<br/>
 &lt;style text="text/css"&gt;
 &lt;/style&gt;
<br/>

 &lt;script type="text/javascript"&gt;
 &lt;/script&gt;
 <br/>
 
&lt;/head&gt;
<br/>

&lt;body&gt;
<br/>

 &lt;section id="stopWatch"&gt;
  &lt;p id="timer"&gt;
   Time : 00:00:00
  &lt;/p&gt;
<br/>
  &lt;button id="start"&gt; Start
  &lt;/button&gt;
 <br/>
  &lt;button id="stop"&gt; Stop
  &lt;/button&gt;
<br/>
  &lt;p id="fulltime"&gt; &lt;/p&gt;
 &lt;/section&gt;
<br/>
&lt;/body&gt;
<br/>
&lt;/html&gt;
</pre>
</code>

<p style=" margin: 20px 0px;" >
The stop watch is now completed.</p>



<a href="https://www.ostraining.com/blog/coding/stopwatch/" style="margin:10px auto; padding:3px; height: auto;color:#fff;background:#1e90ff;text-align:center;display:block;"> View Demo </a>

</div>
